// /////
// // toolbar
// /////
// #toolbar {
  
//   .toolbar_header { 
//     padding: .4em $padding; 
//     float: left;
//   }

//   .toolbar_footer {
//     position:   absolute;
//     bottom:     0;
//     padding:    $padding;
//     border-top: 1px solid lighten($left-panel-background-color, 8%);

//     .toolbar_footer-links {
//       margin-bottom:   0;
//       list-style-type: none;
//       text-align:      center; 

//       li { display: inline-block; }

//       .toolbar_footer-link {
//         @include   highlight-transition-all;
//         @include   border-radius($border-radius);
//         padding:   em-calc(5px) em-calc(10px);
//         color:     darken($left-panel-background-color, 25%);
//         font-size: 0.9em;
//         &:hover    { background-color: lighten($left-panel-background-color, 8%); }
//       }
//     }
//   }

//   .toolbar_phase-list {
//     list-style-type: none;
//     padding:         0 1em 1em 2em;
//     position:        relative;
//     background:      $left-panel-background-color;
//     margin-left:     1em;
//     max-height:      350px;
//     overflow-y:      auto;

//     .toolbar_breadcrumb-heading {
//       top:      0;
//       left:     0.9375em;
//       position: absolute;
//     }

//     .toolbar_phase-list-link {
//       color:         darken($left-panel-background-color, 25%);
//       position:      relative;
//       display:       block;
//       text-overflow: ellipsis;
//       white-space:   nowrap;
//       overflow-x:    hidden;

//       .toolbar_phase-icons {
//         position: absolute;
//         left:     -1em;
//         bottom:   0em;

//         .toolbar_phase-icon {
//           font-size: 0.75em;
//           display:   inline-block;
//         }
//       }

//       &.active {
//         color: white;
//       }

//       &:hover {
//         @include highlight-transition-all;
//         color: white;
//       }
//     }
//   }

//   // Shared with breadcrumbs (below) and phase list (above)
//   .toolbar_breadcrumb-heading {
//     font-size:     .8em;
//     margin-bottom: 0;
//     color:         white;

//     &.toolbar_breadcrumb-phase-content_heading  {
//       margin-left: 2.75em;
//     }
//   }

//   .toolbar_breadcrumbs {
//     position: relative;
//   }

//   .toolbar_breadcrumb-link {
//     display:                   block;
//     position:                  relative;
//     border-bottom:             2px solid $toolbar_breadcrumb-link-border-color;
//     border-left:               2px solid $toolbar_breadcrumb-link-border-color;
//     border-bottom-left-radius: $border-radius;

//     &.toolbar_breadcrumb-link-no-border { border-bottom: none; }

//     &:first-of-type {
//       border-top: 2px solid $toolbar_breadcrumb-link-border-color;
//     }

//     &:last-of-type {
//       border-bottom: 2px solid $toolbar_breadcrumb-link-border-color;
//     }

//     &:nth-of-type(1) { border-left: none;}
//     &:nth-of-type(2) { margin-left: .5em; }
//     &:nth-of-type(3) { margin-left: 1em; }
//     &:nth-of-type(4) { margin-left: 1.5em; }
//     &:nth-of-type(5) { margin-left: 2em; }
//     &:nth-of-type(6) { margin-left: 2.5em; }

//     .toolbar_breadcrumb-header {
//       position:         relative;
//       background-color: $left-panel-background-color;
//       border-bottom:    none;
//       border-left:      none;
//       border-right:     none;
//       color:            white;
//       padding:          0.5em 0;
//       text-overflow:    ellipsis;
//       overflow-x:       hidden;
//       white-space:      nowrap;
//       padding-right:    1.5em;
//       @include highlight-transition-background;

//       .toolbar_breadcrumb-icon {
//         display: inline-block;
//         margin: 0 0.875em 0 0;
//       }

//       .toolbar_breadcrumb-title {
//         // font-size:      .875em;
//         // font-weight:    $ts-medium;
//         letter-spacing: .5px;
//         margin:         0 0.5em;
//         line-height:    1.3em;
//         display:        inline;
//       }

//       .toolbar_breadcrumb-arrow {
//         position: absolute;
//         top:      37%;
//         right:    5px;
//       }

//       &:hover {
//         background-color: lighten($left-panel-background-color, 8%);
//       }
//     }

//     .toolbar_breadcrumb-content {
//       left:          250px;
//       top:           -2px;
//       padding:       0;
//       border-bottom: 0;
//       position: absolute;
//       min-width: 12.5em;
//       // ^ This is a hack because the script tags in the UL prevent :last-child from working correctly on the li within ul.side-nav */
//       .toolbar_breadcrumb-flyout {
//         @include border-right-radius($border-radius);

//         display:             block;
//         list-style-position: inside;
//         list-style-type:     none;
//         margin:              0;
//         padding:             0;
//         background-color:    white;
//         border:              2px solid $toolbar_breadcrumb-flyout-border-color;
//         border-left:         0;

//         .toolbar_breadcrumb-flyout-link:last-of-type { border-bottom: 0; }
//         .toolbar_breadcrumb-flyout-link {
//           margin:        0;
//           @include       highlight-transition-background;

//           &:hover {
//             background-color: $ts-black-light;
//           }

//           a {
//             display: block;
//             color:   $ts-black-base;
//             padding: 0.375em 0.375em;
//           }
//         }
//       }
//     }
//   }

//   .toolbar_minimized-link {
//     .toolbar_breadcrumb-content-minimized.is-visible {
//       z-index:       5000;
//       left:          50px;
//       top:           -2px;
//       padding:       0;
//       border-bottom: 0;
//       position: absolute;
//       min-width: 8em;
//       // ^ This is a hack because the script tags in the UL prevent :last-child from working correctly on the li within ul.side-nav */
//       .toolbar_breadcrumb-flyout {
//         @include border-right-radius($border-radius);

//         display:             block;
//         list-style-position: inside;
//         list-style-type:     none;
//         margin:              0;
//         padding:             0;
//         background-color:    white;
//         border:              2px solid $toolbar_breadcrumb-flyout-border-color;
//         border-left:         0;

//         .toolbar_breadcrumb-flyout-link:last-of-type { border-bottom: 0; }
//         .toolbar_breadcrumb-flyout-link {
//           text-align: left;
//           margin:        0;
//           @include       highlight-transition-background;

//           &:hover {
//             background-color: $ts-black-light;
//           }

//           a {
//             display: block;
//             color:   $ts-black-base;
//             padding: 0.375em 0.375em;
//           }
//         }
//       }
//     }
//   }
  
// }
// //Flyout Animations

// #user-expansion {
//   &.is-visible {
//     @include animation(flyout-open 0.2s 0s);
//   }

//   &.is-hidden {
//     @include animation(flyout-close 0.2s 0s);
//     display: none;
//   }
// }

// .toolbar_breadcrumb-inactive-link {
//   cursor: not-allowed;
// }

$navbar-height: 60px;

#navbar {
  position:      fixed;
  z-index:       5001;
  top:           0;
  height:        $navbar-height;
  line-height:   $navbar-height;
  width:         100%;

  .navigation-left { 
    float: left;
  }

  .navigation-right {
    float: right;
  }

  .nav-link {
    display:     inline-block;
    height:      $navbar-height;
    float:       left;
    line-height: inherit;

    >a {
      display:        block;
      font-size:      .875em;
      font-weight:    $ts-bold;
      letter-spacing: .5px;
      color:          white;
      text-align:     center;
      vertical-align: middle;
      padding:        0 18px;
      line-height:    inherit;
      transition:     all 0.29s ease-in-out 0s;

      &:hover {
        background-color: lighten($ts-blue-base, 5%);
      }
    }

    &.ts-logo>a {
      padding: 0 $content-padding;
      height:  $navbar-height;

      @media only screen and (max-width: $small-breakpoint) {
        padding: 0 $content-padding/2;
      }
    }
    .tsi-support-outline {margin-top: -2px;}
    
    &.nav-link_key-activation {
      background-color: $ts-red-base;
      >a {
        &:hover {
          background-color: lighten($ts-red-base, 5%);
        }
      }
    }
  }

  .navbar_user-avatar {
    display: inline-block;
  }
  .navbar_user-info {
    display:        inline-block;
    text-align:     left;
    margin-left:    .75rem;
    margin-right:   .5rem;
    line-height:    18px;
    text-overflow:  ellipsis;
    overflow:       hidden;
    max-width:      180px;
    vertical-align: middle; 

    @media only screen and (max-width: $small-breakpoint) {
      display: none;
    }
  }
  .navbar_user-meta {
    font-weight: $ts-regular;
  }
  a.navbar_user-account {
    padding: 0 $content-padding;

    @media only screen and (max-width: $small-breakpoint) {
      padding: 0 $content-padding/2;
    }

    >i {
      margin-left: .5rem;
    }
  }
}

// Dropdown Menu

.navbar_account-menu {
  @include border-radius($border-radius);

  display:             block;
  position:            absolute;
  top:                 66px;
  right:               $content-padding;
  width:               15em;
  list-style-position: inside;
  list-style-type:     none;
  margin:              0;
  padding:             0;
  background-color:    white;
  border:              2px solid $toolbar_breadcrumb-flyout-border-color;
  box-shadow:          1px 1px 7px 1px #dddddd;

  @media only screen and (max-width: $small-breakpoint) {
      right: $content-padding/2;
  }

  .toolbar_breadcrumb-flyout-link {
    margin:        0;
    border-bottom: 2px solid $ts-black-light;

    @include       highlight-transition-background;

    &:last-of-type {
      border-bottom: none;
    }

    &:hover {
      background-color: $ts-black-light;
    }

    a {
      display:        block;
      color:          $ts-black-base;
      font-size:      .875rem;
      font-weight:    $ts-bold;
      letter-spacing: .5px;
      padding:        0.375em 1rem;
    }
  }
}

// //Flyout Animations

#user-expansion {
  &.is-visible {
    @include animation(flyout-open 0.2s 0s);
  }

  &.is-hidden {
    @include animation(flyout-close 0.2s 0s);
    display: none;
  }
}
